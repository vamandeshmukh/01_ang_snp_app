<div class="row">
    <div class="col-sm-1"></div>
    <div class="col-sm-2">
        <app-profile></app-profile>
    </div>

    <div class="col-sm-7">
        <div class="card">
            <div class="card-body">
                <div fxLayout="row">
                    <div *ngIf="isLoading">
                        <div class="d-flex justify-content-center" style="text-align: center;">
                            <div class="spinner-border text-success" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="isContentLoaded | async" fxFlex="100%">
                        <form [formGroup]="form" (ngSubmit)="onSubmit()">
                            <input type="hidden" name="id" formControlName="id">
                            <div class="container mt-2">


                                <ul class="nav nav-tabs">
                                    <li class="nav-item tabs">
                                        <a class="nav-link active" data-toggle="tab" href="#profile">Profile Setting</a>
                                    </li>
                                    <li class="nav-item tabs">
                                        <a class="nav-link" data-toggle="tab" href="#password">Change Password</a>
                                    </li>
                                </ul>

                                <div class="tab-content">
                                    <div id="profile" class="container tab-pane active"><br>
                                        <div fxLayout="row">
                                            <div class="form-group" fxFlex="45%">
                                                <input type="text" class="form-control form-control-md" formControlName="firstName"
                                                    placeholder="First Name">
                                                <div *ngIf="isFieldInvalid('firstName')" class="error-message">
                                                    Please enter first name
                                                </div>
                                            </div>
                                            <div fxFlex="10%"></div>
                                            <div class="form-group" fxFlex="45%">
                                                <input type="text" class="form-control form-control-md" formControlName="lastName"
                                                    placeholder="Last Name">
                                                <div *ngIf="isFieldInvalid('lastName')" class="error-message">
                                                    Please enter last name
                                                </div>
                                            </div>
                                        </div>

                                        <div fxLayout="row">
                                            <div class="form-group" fxFlex="45%">
                                                <input type="text" class="form-control form-control-md" formControlName="gender">
                                            </div>
                                            <div fxFlex="10%"></div>
                                            <div class="form-group" fxFlex="45%">
                                                <input type="date" class="form-control form-control-md" formControlName="dob"
                                                    id="today" placeholder="Date Of Birth" value="getDob()">
                                            </div>
                                        </div>

                                        <div fxLayout="row">
                                            <div class="form-group" fxFlex="45%">
                                                <input type="text" class="form-control form-control-md" formControlName="email"
                                                    placeholder="Email">
                                            </div>
                                            <div fxFlex="10%"></div>
                                            <div class="form-group" fxFlex="45%">
                                                <input type="text" class="form-control form-control-md" formControlName="phone"
                                                    placeholder="phone">
                                                <div *ngIf="isFieldInvalid('phone')" class="error-message">
                                                    Please enter phone number
                                                </div>
                                            </div>
                                        </div>

                                        <div fxLayout="row">
                                            <div class="form-group" fxFlex="45%">
                                                <select class="form-control form-control-md" formControlName="country"
                                                    placeholder="Country">
                                                    <option value="" selected disabled>Please select</option>
                                                    <option *ngFor="let country of countries" value={{country}}>{{country}}</option>
                                                </select>
                                                <div *ngIf="isFieldInvalid('country')" class="error-message">
                                                    Please select country
                                                </div>
                                            </div>
                                            <div fxFlex="10%"></div>
                                            <div class="form-group" fxFlex="45%">
                                                <select class="form-control form-control-md" formControlName="state"
                                                    placeholder="State">
                                                    <option value="" selected disabled>Please select</option>
                                                    <option *ngFor="let state of states" value={{state}}>{{state}}</option>
                                                </select>
                                                <div *ngIf="isFieldInvalid('state')" class="error-message">
                                                    Please select state
                                                </div>
                                            </div>
                                        </div>

                                        <div fxLayout="row">
                                            <div class="form-group" fxFlex="45%">
                                                <select class="form-control form-control-md" formControlName="city"
                                                    placeholder="City">
                                                    <option value="" selected disabled>Please select</option>
                                                    <option *ngFor="let city of cities" value={{city}}>{{city}}</option>
                                                </select>
                                                <div *ngIf="isFieldInvalid('city')" class="error-message">
                                                    Please select city
                                                </div>
                                            </div>
                                            <div fxFlex="10%"></div>
                                            <div class="form-group" fxFlex="45%">
                                                <input type="text" class="form-control form-control-md" formControlName="pincode"
                                                    placeholder="Pincode">
                                                <div *ngIf="isFieldInvalid('pincode')" class="error-message">
                                                    Please enter pincode
                                                </div>
                                            </div>
                                        </div>

                                        <div fxLayout="row">
                                            <div class="form-group" fxFlex="45%">
                                                <input type="text" class="form-control form-control-md" formControlName="profession"
                                                    placeholder="Profession">
                                                <div *ngIf="isFieldInvalid('profession')" class="error-message">
                                                    Please enter your profession
                                                </div>
                                            </div>
                                        </div>

                                        <button type="button" class="btn btn-success" (click)="onSubmit()"> SAVE</button>
                                    </div>

                                    <div id="password" class="container tab-pane fade"><br>
                                        <div fxLayout="row">
                                            <div class="form-group" fxFlex="50%">
                                                <input type="password" class="form-control form-control-md"
                                                    formControlName="password" placeholder="New Password">
                                                <div *ngIf="isFieldInvalid('password')" class="error-message">
                                                    Password should contain minimum 8 characters
                                                </div>
                                            </div>
                                        </div>
                                        <div fxLayout="row">
                                            <div class="form-group" fxFlex="50%">
                                                <input type="password" class="form-control form-control-md"
                                                    formControlName="confirmPassword" placeholder="Confirm Password">
                                                <div *ngIf="isFieldInvalid('confirmPassword')" class="error-message">
                                                    Confirm assword should contain minimum 8 characters
                                                </div>
                                            </div>
                                        </div>

                                        <button type="button" class="btn btn-success" (click)="changePassword()">
                                            SAVE</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-2"> </div>
</div>